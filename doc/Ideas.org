* Commands

kmetaserver --config <configfile|/etc/kodiakfs/kodiakfs.conf> 

kodiak --metaserver <ip addr>

kodiak status
kodiak clients

kodiak chunkhost list
kodiak chunkhost add <ip:port> [nickname]
kodiak chunkhost details <hostid|nickname>

kodiak storage list
kodiak storage down
kodiak storage up

kodiak df
kodiak df details

kodiak fs create <filesystem name>
kodiak fs list
kodiak fs status <filesystem name>
kodiak fs delete <filesystem name>

kodiak mount <filesystem name> <mount point>

* Data Structures

#+NAME: Block data structures
#+BEGIN_SRC C++
  struct DataChunk {
      checksum uint8_t[32];    // SHA256 checksum of data
      chunkid  uint64_t;
      size     uint32_t;       // Size of data block      
      data     uint8_t[0];     // Variable length data block
  };

  struct BlockLocation {


  };

  struct BlockIndex {
    blocks uint64_t;
  };

  struct ChunkHostStatistics {
    disk_space uint64_t;     // How many bytes remain on the chunk host
  };

  enum ServerCommands {
     REGISTER_CHUNK_HOST

  };

#+END_SRC


What are chunks like?
How big are the block sizes used in the chunkserver?
Can files have adjusted chunk sizes?




Things should probably be similar to LVM.

Physical Storage   -- handled by the chunk servers
Volume Group       -- virtualized chunk types
Logical Volume     -- NBD
Logical Filesystem -- networked filesystem








